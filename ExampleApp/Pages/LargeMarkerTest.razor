@page "/LargeMarkerTest"

@using BlazorLeafletInterop.Components;
@using BlazorLeafletInterop.Components.Base
@using BlazorLeafletInterop.Models.Basics;
@using BlazorLeafletInterop.Models.Map

<Map @ref="_map" Class="map" MapOptions="Options">
	<TileLayer @ref="_tileLayer" UrlTemplate="https://tile.openstreetmap.org/{z}/{x}/{y}.png" />
	@* Create a large amount of markers with random positions *@
	@for (var i = 0; i < 1000; i++)
	{
		<Marker LatLng="@GetRandomLatLng()" />
	}
</Map>

@code {
	private Map? _map;
	private TileLayer? _tileLayer;
	private MapOptions Options = new MapOptions() {  Center = new LatLng(0, 0), Zoom = 1 };
	
	private LatLng GetRandomLatLng()
	{
		var random = new Random();
		var lat = random.NextDouble() * 180 - 90;
		var lng = random.NextDouble() * 360 - 180;
		return new LatLng(lat, lng);
	}
	
}